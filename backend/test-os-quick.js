const axios = require("axios"); async function test() { try { console.log("Testing login..."); const r = await axios.post("http://localhost:3001/api/auth/login", {email:"admin@sistema.com",password:"123456"}); if(r.data.success) { console.log("Login OK"); const os = await axios.get("http://localhost:3001/api/ordens-servico", {headers:{"Authorization": `Bearer ${r.data.token}`}}); console.log("OS OK:", os.data.data?.ordensServico?.length || 0); } else { console.log("Login failed:", r.data.message); } } catch(e) { console.log("Error:", e.response?.data || e.message); } } test();
